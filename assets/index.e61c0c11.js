var u=Object.defineProperty;var h=(n,e,r)=>e in n?u(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r;var a=(n,e,r)=>(h(n,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function r(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(t){if(t.ep)return;t.ep=!0;const s=r(t);fetch(t.href,s)}})();class c{constructor(e){a(this,"id");a(this,"hasWumpus");a(this,"hasHole");a(this,"hasBat");this.id=e,this.hasWumpus=!1,this.hasHole=!1,this.hasBat=!1}}function f(n,e){if(n*e<20)throw new Error("The gameboard is too small! Choose a bigger one.");const r=[];for(let o=0;o<n;o++){const t=[];for(let s=0;s<e;s++){const i=new c(s*n+o+1);Math.random()<.2?i.hasHole=!0:Math.random()<.3&&(i.hasBat=!0),t.push(i)}r.push(t)}for(;;){const o=Math.round(Math.random()*(n-1)),t=Math.round(Math.random()*(e-1)),s=r[o][t];if(!s.hasHole&&!s.hasBat){s.hasWumpus=!0;break}}return r}class p{constructor(){a(this,"arrowCount");a(this,"moveCount");a(this,"board");a(this,"playerX");a(this,"playerY");this.arrowCount=5,this.moveCount=0,this.board=f(5,4),this.playerX=4,this.playerY=1}playerPosition(){const e=this.playerX,r=this.playerY;return[e,r]}movePlayer(e){console.log("hej");let r=this.playerX,o=this.playerY;if(e==="North")o-=1;else if(e==="East")r+=1;else if(e==="South")o+=1;else if(e==="West")r-=1;else{console.log("Choose either North, East, South or West.");return}r===this.board.length?r=0:r===-1&&(r=this.board.length-1),o===this.board[0].length?o=0:o===-1&&(o=this.board[0].length-1),this.playerX=r,this.playerY=o,this.moveCount+=1}wumpusPosition(){for(let e=0;e<this.board[0].length;e++)for(let r=0;r<this.board.length;r++)this.board[r][e].hasWumpus}moveWumpus(){for(let e=0;e<this.board[0].length;e++)for(let r=0;r<this.board.length;r++)if(this.board[r][e].hasWumpus){let o=r+1,t=e;o===this.board.length?o=0:t===this.board[0].length&&(t=0),console.log(r),console.log(e),this.board[r][e].hasWumpus=!1,this.board[o][t].hasWumpus=!0;return}}}class m{constructor(e,r,o){a(this,"boardContainer");a(this,"arrowContainer");a(this,"moveContainer");this.boardContainer=document.querySelector(e),this.arrowContainer=document.querySelector(r),this.moveContainer=document.querySelector(o)}renderBoard(e){let r="";for(let o=0;o<e.board[0].length;o++){r+="<tr>";for(let t=0;t<e.board.length;t++)e.playerX===t&&e.playerY===o?r+=`<td class="board-square"> ${e.board[t][o].id} <img src="/player.jpg" width="50"></td>`:e.board[t][o].hasWumpus?r+=`<td class="board-square"> ${e.board[t][o].id} <img src="/wumpus.png" width="50"></td>`:e.board[t][o].hasHole?r+=`<td class="board-square"> ${e.board[t][o].id} <img src="/hole.jpg" width="50"></td>`:e.board[t][o].hasBat?r+=`<td class="board-square"> ${e.board[t][o].id} <img src="/bats.jpg" width="50"></td>`:r+=`<td class="board-square"> ${e.board[t][o].id} </td>`;r+="</tr>"}this.boardContainer.innerHTML=r}renderArrows(e){this.arrowContainer.innerHTML=e.arrowCount.toString()}renderMoves(e){this.moveContainer.innerHTML=e.moveCount.toString()}renderAll(e){this.renderBoard(e),this.renderArrows(e),this.renderMoves(e)}}const d=new m("#boardContainer","#arrows","#moves"),l=new p;d.renderAll(l);setTimeout(()=>d.renderAll(l),3e3);l.movePlayer("East");
